<!DOCTYPE html>

@using EquipmentManagementSystem.Domain.Service
@inject Localizer Localizer

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <link href="~/css/site.css" rel="stylesheet" type="text/css" />
    <link href="~/css/Table.css" rel="stylesheet" type="text/css" />
    <link href="~/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />

    <script src="~/js/jquery.min.js" type="text/javascript"></script>
    <script src="~/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="~/js/jquery.unobtrusive-ajax.min.js"></script>
    <script src="~/js/jquery.validate.min.js"></script>
    <script src="~/js/jquery.validate.unobtrusive.min.js"></script>
    <script src="~/js/jquery-ui.min.js" type="text/javascript"></script>

    <script>
        // Prevents doubleclicking from selecting text in table
        $('document').ready(function () {

            var table = document.getElementById('table');
            table.addEventListener('mousedown', function (event) {

                if (event.detail > 1 && event.ctrlKey == false) {
                    event.preventDefault();
                }
                // Ctrl click selecting rows for delete/export
                else if (event.ctrlKey) {

                    event.preventDefault();
                    var $target = $(event.target).closest('tr');

                    if ($target.hasClass("SelectedRow")) {
                        $target.removeClass("SelectedRow");
                    }
                    else {
                        $target.addClass("SelectedRow");
                    }

                    var rowItems = $('.SelectedRow');

                    if (rowItems.length > 0) {

                        document.getElementById("selectionButtons").style.display = "";
                    }
                    else {
                        document.getElementById("selectionButtons").style.display = "none";
                    }
                }
            }, false);
        });

    </script>
</head>
<body>
    <div class="body-content">
        @RenderBody()
    </div>

    @RenderSection("Scripts", false/*required*/)
</body>
</html>